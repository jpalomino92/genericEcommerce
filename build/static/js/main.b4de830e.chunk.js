(this["webpackJsonpavecesar-ecommerce"]=this["webpackJsonpavecesar-ecommerce"]||[]).push([[0],{177:function(e,t,c){},178:function(e,t,c){},179:function(e,t,c){},180:function(e,t,c){},187:function(e,t,c){},194:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},199:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(56),i=c.n(a),r=(c(177),c(25)),j=c(26),s=(c(178),c(179),c(180),c(38)),l=c(13),o=c(20),d=c(7),b=Object(n.createContext)([]);function O(e){var t=e.defaultValue,c=void 0===t?[]:t,a=e.children,i=Object(n.useState)(c),r=Object(o.a)(i,2),j=r[0],O=r[1],u=Object(n.useState)(0),x=Object(o.a)(u,2),h=x[0],m=x[1],f=Object(n.useState)(0),v=Object(o.a)(f,2),p=v[0],C=v[1];Object(n.useEffect)((function(){var e,t=0,c=0,n=Object(l.a)(j);try{for(n.s();!(e=n.n()).done;){var a=e.value;c+=a.quantity,t+=a.quantity*a.item.price}}catch(i){n.e(i)}finally{n.f()}m(c),C(t)}),[j]);var g=function(e){var t=j.filter((function(t){return t.item.id!==e}));O(t),console.log("removeitem",e,t)};return Object(d.jsx)(b.Provider,{value:{cart:j,addItem:function(e,t){var c=j.findIndex((function(t){return t.item.id===e.id}));if(c>-1){var n=j[c].quantity;j.splice(c,1),O([].concat(Object(s.a)(j),[{item:e,quantity:t+n}]))}else O([].concat(Object(s.a)(j),[{item:e,quantity:t}]))},removeItem:g,clearCart:function(){return O([])},itemsTotales:h,precioTotal:p,restItem:function(e){var t=j.findIndex((function(t){return t.item.id===e.id})),c=j[t].quantity-1;j.splice(t,1),O([].concat(Object(s.a)(j),[{item:e,quantity:c}])),0===c&&g(e.id)}},children:a})}var u=function(e){var t=e.route,c=Object(n.useContext)(b).itemsTotales;return Object(d.jsx)("div",{children:Object(d.jsxs)(r.b,{to:t,children:[Object(d.jsx)("i",{className:"fas fa-shopping-cart"}),Object(d.jsx)("div",{className:"cart-items",children:c})]})})},x=c(140);function h(){return Object(d.jsxs)("div",{className:"navBarItems",children:[Object(d.jsx)(r.b,{to:"/",children:Object(d.jsxs)("h1",{className:"navBarLogo",children:[Object(d.jsx)("i",{className:"fas fa-biohazard"})," Generic E-commerce"]})}),Object(d.jsx)("div",{className:"menuIcon",children:Object(d.jsx)("i",{className:"fas fa-times"})}),Object(d.jsxs)("ul",{className:"nav-menu",children:[Object(d.jsx)(r.b,{to:"/",children:Object(d.jsx)("li",{className:"navLinks",children:Object(d.jsx)("p",{className:"navLinks",id:"navLinks",role:"button",children:"Home"})})}),Object(d.jsxs)(x.a,{title:"Categorias",id:"basic-nav-dropdown",className:" navLinks",children:[Object(d.jsx)(x.a.Item,{as:r.b,to:"/category/ropa de hombre",children:"Ropa de hombre"}),Object(d.jsx)(x.a.Item,{as:r.b,to:"/category/mochilas",children:"Mochila"})]}),Object(d.jsx)(u,{route:"/Cart"})]})]})}var m=c(220),f=c(216),v=c(160),p=c(219),C=(c(187),function(){var e=Object(n.useContext)(b),t=e.cart,c=e.addItem,a=e.removeItem,i=e.clearCart,j=e.precioTotal,s=e.itemsTotales,l=e.restItem,o=0;return o=t.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m.a,{container:!0,children:Object(d.jsx)(m.a.Column,{children:Object(d.jsxs)(f.a,{columns:6,children:[Object(d.jsx)(f.a.Header,{children:Object(d.jsxs)(f.a.Row,{children:[Object(d.jsx)(f.a.HeaderCell,{children:"Producto"}),Object(d.jsx)(f.a.HeaderCell,{}),Object(d.jsx)(f.a.HeaderCell,{children:"Cantidad"}),Object(d.jsx)(f.a.HeaderCell,{}),Object(d.jsx)(f.a.HeaderCell,{children:"Precio"}),Object(d.jsx)(f.a.HeaderCell,{})]})}),t.map((function(e,t){return Object(d.jsx)(f.a.Body,{children:Object(d.jsxs)(f.a.Row,{children:[Object(d.jsx)(f.a.Cell,{children:e.item.title}),Object(d.jsx)(f.a.Cell,{children:Object(d.jsx)(v.a,{floated:"right",size:"mini",src:e.item.image})}),Object(d.jsx)(f.a.Cell,{children:e.quantity}),Object(d.jsx)(f.a.Cell,{children:Object(d.jsxs)("div",{className:"ui two buttons",children:[Object(d.jsx)(p.a,{basic:!0,color:"green",onClick:function(){return c(e.item,1)},children:"Agregar"}),Object(d.jsx)(p.a,{basic:!0,color:"red",onClick:function(){l(e.item)},children:"Restar"})]})}),Object(d.jsx)(f.a.Cell,{children:e.item.price}),Object(d.jsx)(f.a.Cell,{children:Object(d.jsx)(p.a,{basic:!0,color:"red",onClick:function(){a(e.item.id)},children:"Eliminar"})})]})},t)})),Object(d.jsx)(f.a.Footer,{children:Object(d.jsxs)(f.a.Row,{children:[Object(d.jsx)(f.a.HeaderCell,{children:"Total"}),Object(d.jsx)(f.a.HeaderCell,{}),Object(d.jsxs)(f.a.HeaderCell,{children:[s," "]}),Object(d.jsx)(f.a.HeaderCell,{children:" "}),Object(d.jsxs)(f.a.HeaderCell,{children:[" ",j]}),Object(d.jsx)(f.a.HeaderCell,{children:" "})]})})]})})}),Object(d.jsxs)(m.a,{container:!0,columns:3,children:[Object(d.jsx)(m.a.Column,{children:Object(d.jsx)(p.a,{basic:!0,color:"red",onClick:function(){return i()},children:"Vaciar Carrito"})}),Object(d.jsx)(m.a.Column,{children:Object(d.jsx)(r.b,{to:"/",children:Object(d.jsx)(p.a,{basic:!0,color:"green",children:"Seguir comprando"})})}),Object(d.jsx)(m.a.Column,{children:Object(d.jsx)(r.b,{to:"/CheckOut",children:Object(d.jsx)(p.a,{basic:!0,color:"black",children:"Finalizar compra"})})})]})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(m.a,{container:!0,children:Object(d.jsxs)(m.a.Column,{children:[Object(d.jsx)("h1",{children:"El Carrito se encuentra vacio"}),Object(d.jsx)(r.b,{to:"/",children:Object(d.jsx)(p.a,{basic:!0,color:"green",children:"Seguir comprando"})})]})})}),Object(d.jsx)("div",{className:"cartGrid",children:o})}),g=c(218),y=c(215),I=c(146),N=(c(191),c(200),I.a.initializeApp({apiKey:"AIzaSyAmtYdahz1E6x3Wv-JbC0qJ6LHZU-0nQDg",authDomain:"e-commercepalomino.firebaseapp.com",projectId:"e-commercepalomino",storageBucket:"e-commercepalomino.appspot.com",messagingSenderId:"236377842056",appId:"1:236377842056:web:52b770abcd631d9dc11a3d"}));var k=function(){return I.a.firestore(N)};var S=function(){var e=Object(n.useContext)(b),t=e.cart,c=e.clearCart,a=e.precioTotal,i=Object(n.useState)(0),j=Object(o.a)(i,2),s=j[0],l=j[1],O=Object(n.useState)(0),u=Object(o.a)(O,2),x=u[0],h=u[1],f=Object(n.useState)(0),v=Object(o.a)(f,2),C=v[0],I=v[1],N=Object(n.useState)(null),S=Object(o.a)(N,2),H=S[0],q=S[1],w=0;return w=H?Object(d.jsx)(m.a,{container:!0,children:Object(d.jsxs)(m.a.Column,{children:[Object(d.jsx)(g.a,{success:!0,header:"Tu compra fue exitosa",content:"Tu Codigo de compra es ".concat(H)}),Object(d.jsx)(r.b,{to:"/",children:Object(d.jsx)(p.a,{basic:!0,color:"green",children:"Seguir comprando"})})]})}):Object(d.jsx)(m.a,{container:!0,children:Object(d.jsx)(m.a.Column,{children:Object(d.jsxs)(y.a,{onSubmit:function(e){var n={name:s,email:x,phone:C},i=k().collection("orders"),r={};r.buyer={buyer:n},r.total=a,r.items=t.map((function(e){return{id:e.item.id,title:e.item.title}})),i.add(r).then((function(e){q(e.id)})),c()},children:[Object(d.jsxs)(y.a.Field,{children:[Object(d.jsx)("label",{children:"Nombre"}),Object(d.jsx)("input",{placeholder:"First Name",type:"text",onChange:function(e){return l(e.target.value)},required:!0})]}),Object(d.jsxs)(y.a.Field,{children:[Object(d.jsx)("label",{children:"Email"}),Object(d.jsx)("input",{placeholder:"Email",type:"email",onChange:function(e){return h(e.target.value)},required:!0})]}),Object(d.jsxs)(y.a.Field,{children:[Object(d.jsx)("label",{children:"Telefono"}),Object(d.jsx)("input",{placeholder:"Phone",type:"number",onChange:function(e){return I(e.target.value)},required:!0})]}),Object(d.jsx)(p.a,{type:"submit",children:"Submit"})]})})}),Object(d.jsx)(d.Fragment,{children:w})},H=c(130),q=(c(194),c(217)),w=function(e){var t=e.item,c=t.image,n=t.title,a=t.category,i=t.id;return Object(d.jsx)("div",{children:Object(d.jsx)(r.b,{to:"/Products/".concat(i),children:Object(d.jsx)(q.a,{image:c,header:n,meta:a})})})},T=function(e){var t=e.items;return Object(d.jsx)("div",{children:Object(d.jsx)(m.a,{container:!0,columns:3,children:t.map((function(e,t){return Object(d.jsx)(m.a.Column,{children:Object(d.jsx)(w,{item:e})},t)}))})})},E=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(j.f)().categoryName;return Object(n.useEffect)((function(){var e=k().collection("products");(i?e.where("category","==",i):e).get().then((function(e){0===e.size&&console.log("no hay nada"),a(e.docs.map((function(e){return Object(H.a)({id:e.id},e.data())})))}))}),[i]),Object(d.jsx)("div",{id:"ItemListContainer",children:Object(d.jsx)(T,{items:c})})};var B=function(){return Object(d.jsx)(E,{})},F=c(99),z=(c(195),function(e){var t=e.onAdd,c=e.stock,a=e.initial,i=Object(n.useState)(a),r=Object(o.a)(i,2),j=r[0],s=r[1];return Object(d.jsxs)("div",{className:"ButtonCounter",children:[Object(d.jsxs)(p.a,{animated:"vertical",onClick:function(){return t(j)},children:[Object(d.jsx)(p.a.Content,{hidden:!0,children:"Buy"}),Object(d.jsx)(p.a.Content,{visible:!0,children:Object(d.jsx)(F.a,{name:"shop"})})]}),Object(d.jsxs)(p.a.Group,{children:[Object(d.jsx)(p.a,{positive:!0,onClick:function(){parseInt(j)>0&&s(j-1)},children:"-"}),Object(d.jsx)(p.a.Or,{text:j}),Object(d.jsx)(p.a,{onClick:function(){j>parseInt(c)?console.log("no hay stock suficiente"):s(j+1)},children:"+"})]})]})});c(196);function L(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(r.b,{to:"/Cart",children:Object(d.jsxs)(p.a,{animated:!0,className:"ButtonCart",children:[Object(d.jsx)(p.a.Content,{visible:!0,children:"Ir al Carrito"}),Object(d.jsx)(p.a.Content,{hidden:!0,children:Object(d.jsx)(F.a,{name:"arrow right"})})]})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.b,{to:"/",children:Object(d.jsxs)(p.a,{animated:!0,className:"ButtonCart",children:[Object(d.jsx)(p.a.Content,{visible:!0,children:"Seguir comprando"}),Object(d.jsx)(p.a.Content,{hidden:!0,children:Object(d.jsx)(F.a,{name:"arrow right"})})]})})]})}c(197);var A=function(e){var t=e.OnlyItem,c=0,a=t.image,i=t.title,r=t.description,j=Object(n.useState)(!1),s=Object(o.a)(j,2),l=s[0],O=s[1],u=Object(n.useContext)(b).addItem;return c=l?Object(d.jsx)("div",{children:Object(d.jsx)(L,{})}):Object(d.jsx)("div",{children:Object(d.jsx)(z,{onAdd:function(e){u(t,e),O(!0)},stock:8,initial:1})}),Object(d.jsxs)("div",{className:"ItemGrid",children:[Object(d.jsx)("div",{className:"imageContainer",children:Object(d.jsx)("img",{src:a,alt:i,className:"itemDetailImage"})}),Object(d.jsx)("div",{className:"descriptionContainer",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"itemDetailTitle",children:i}),Object(d.jsx)("p",{children:r})]})}),Object(d.jsx)("div",{className:"buttonContainer",children:c})]})},P=function(e){var t=e.id,c=Object(n.useState)([]),a=Object(o.a)(c,2),i=a[0],r=a[1];return Object(n.useEffect)((function(){(function(e){return k().collection("products").doc(e).get()})(t).then((function(e){e.exists&&r(Object(H.a)({id:e.id},e.data()))}))}),[t]),Object(d.jsx)("div",{children:Object(d.jsx)(A,{OnlyItem:i})})};function R(){var e=Object(j.f)().id;return Object(d.jsx)("div",{children:Object(d.jsx)(P,{id:e})})}var D=function(){return Object(d.jsx)(O,{children:Object(d.jsxs)(r.a,{children:[Object(d.jsx)(h,{}),Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{exact:!0,path:"/",children:Object(d.jsx)(B,{})}),Object(d.jsx)(j.a,{path:"/category/:categoryName",children:Object(d.jsx)(B,{})}),Object(d.jsx)(j.a,{path:"/Products/:id",children:Object(d.jsx)(R,{})}),Object(d.jsx)(j.a,{path:"/Cart",children:Object(d.jsx)(C,{})}),Object(d.jsx)(j.a,{path:"/CheckOut",children:Object(d.jsx)(S,{})})]})]})})};c(198);i.a.render(Object(d.jsx)(D,{}),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.b4de830e.chunk.js.map